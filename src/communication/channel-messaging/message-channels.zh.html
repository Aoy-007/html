  <h4>消息通道</h4>

  <pre><code class="idl">[Exposed=(Window,Worker)]
interface <dfn>MessageChannel</dfn> {
  <span data-x="dom-MessageChannel">constructor</span>();

  readonly attribute <span>MessagePort</span> <span data-x="dom-MessageChannel-port1">port1</span>;
  readonly attribute <span>MessagePort</span> <span data-x="dom-MessageChannel-port2">port2</span>;
};</code></pre>

  <dl class="domintro">
   <dt><var>channel</var> = new <code subdfn data-x="dom-MessageChannel">MessageChannel</code>()</dt>

   <dd>
    <p>返回有两个新的 <code>MessagePort</code> 对象的，一个新的 <code>MessageChannel</code> 对象。</p>
   </dd>

   <dt><var>channel</var> . <code subdfn data-x="dom-MessageChannel-port1">port1</code></dt>

   <dd>
    <p>返回第一个 <code>MessagePort</code> 对象。</p>
   </dd>

   <dt><var>channel</var> . <code subdfn data-x="dom-MessageChannel-port2">port2</code></dt>

   <dd>
    <p>返回第二个 <code>MessagePort</code> 对象。</p>
   </dd>
  </dl>

  <div w-nodev>

  <p><code>MessageChannel</code> 对象有一个关联的 <dfn>port 1</dfn> 和 <dfn>port 2</dfn>，都是 <code>MessagePort</code> 对象。</p>

  <p><dfn><code data-x="dom-MessageChannel">new MessageChannel()</code></dfn> 构造步骤为：</p>

  <ol>
   <li><p>设置 <span>this</span> 的 <span>port 1</span> 为在 <span>this</span> 的
   <span data-x="concept-relevant-realm">相关 Realm</span> 中的 <span>new</span> <code>MessagePort</code>。</p></li>

   <li><p>设置 <span>this</span> 的 <span>port 2</span> 为在 <span>this</span> 的
   <span data-x="concept-relevant-realm">相关 Realm</span> 中的 <span>new</span> <code>MessagePort</code>。</p></li>

   <li><p><span data-x="Entangle">绑定</span> <span>this</span> 的 <span>port 1</span> 和 <span>this</span> 的 <span>port 2</span>。</p></li>
  </ol>

  <p><dfn><code data-x="dom-MessageChannel-port1">port1</code></dfn> 获取步骤为返回 <span>this</span> 的 <span>port 1</span>。</p>

  <p><dfn><code data-x="dom-MessageChannel-port2">port2</code></dfn> 获取步骤为返回 <span>this</span> 的 <span>port 2</span>。</p>

  </div>



